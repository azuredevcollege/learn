parameters:
  buildConfiguration: release
  buildNumber: ""
  containerRegistryServiceConnection: ""

steps:
  - task: Docker@2
    displayName: Build and Puish Docker image
    inputs:
      repository: adcday7/scmsearchapi
      command: buildAndPush
      dockerfile: day7/apps/dotnetcore/Scm.Search/Adc.Scm.Search.Api/Dockerfile
      buildContext: day7/apps/dotnetcore/Scm.Search/Adc.Scm.Search.Api
      containerRegistry: ${{ parameters.containerRegistryServiceConnection }}
      tags: ${{ parameters.buildNumber }}
